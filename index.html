<section id="booking" class="reveal bg-neutral-900/40 p-8 rounded-3xl border border-white/5">
    <h2 class="text-3xl font-light mb-6 text-center">Schedule a Session</h2>
    
    <form id="leadForm" class="max-w-md mx-auto space-y-4">
        <input type="text" name="name" placeholder="Full Name" class="input-field w-full px-6 py-4 rounded-xl text-white" required>
        <input type="email" name="email" placeholder="Email Address" class="input-field w-full px-6 py-4 rounded-xl text-white" required>
        <input type="datetime-local" name="date" class="input-field w-full px-6 py-4 rounded-xl text-white" required>
        
        <button type="submit" id="submitBtn" class="w-full bg-white text-black px-8 py-4 rounded-xl font-medium hover:bg-gray-200 transition">
            Confirm Appointment
        </button>
        <p id="msg" class="text-center text-sm mt-4 text-green-500 hidden">Success! Check your email and calendar.</p>
    </form>
</section>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbxcYHt0heAaFwM-58k0nnZBv8jjjmPpqHJhpI0E-yhrnYgycgbnNeIg_06N8yjhFRWe/exec'; 
    const form = document.getElementById('leadForm');
    const msg = document.getElementById('msg');
    const btn = document.getElementById('submitBtn');

    form.addEventListener('submit', e => {
        e.preventDefault();
        btn.disabled = true;
        btn.innerText = "Processing...";

        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => {
                msg.classList.remove('hidden');
                btn.innerText = "Confirmed";
                form.reset();
            })
            .catch(error => console.error('Error!', error.message));
    });
</script>